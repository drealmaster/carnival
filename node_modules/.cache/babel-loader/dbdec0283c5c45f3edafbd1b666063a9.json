{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Chinenye/Desktop/DELIGHT/MOVIES/carnival/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Chinenye/Desktop/DELIGHT/MOVIES/carnival/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Chinenye/Desktop/DELIGHT/MOVIES/carnival/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import{BoldLink,BoxContainer,FormContainer,Input,MutedLink,SubmitButton}from\"./common\";import{signInWithEmailAndPassword,// onAuthStateChanged,\n// signOut,\nsendPasswordResetEmail}from\"firebase/auth\";import{auth}from\"../../firebase\";import{Marginer}from\"../marginer\";import{AccountContext}from\"./accountContext\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function LoginForm(props){var _useContext=useContext(AccountContext),switchToSignup=_useContext.switchToSignup;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),loginEmail=_useState2[0],setLoginEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),loginPassword=_useState4[0],setLoginPassword=_useState4[1];var navigate=useNavigate();var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signInWithEmailAndPassword(auth,loginEmail,loginPassword);case 3:user=_context.sent;console.log(user);navigate('/dashboard');_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function login(){return _ref.apply(this,arguments);};}();// function resetPassword(loginEmail) {\n//      return sendPasswordResetEmail(auth, loginEmail)\n//  }\nreturn/*#__PURE__*/_jsxs(BoxContainer,{children:[/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(Input,{type:\"email\",placeholder:\"Email\",onChange:function onChange(event){setLoginEmail(event.target.value);}}),/*#__PURE__*/_jsx(Input,{type:\"password\",placeholder:\"Password\",onChange:function onChange(event){setLoginPassword(event.target.value);}})]}),/*#__PURE__*/_jsx(Marginer,{direction:\"vertical\",margin:10}),/*#__PURE__*/_jsx(MutedLink,{href:\"#\",children:\"Forget your password?\"}),/*#__PURE__*/_jsx(Marginer,{direction:\"vertical\",margin:\"1.6em\"}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",onClick:login,children:\"Signin\"}),/*#__PURE__*/_jsx(Marginer,{direction:\"vertical\",margin:\"1em\"}),/*#__PURE__*/_jsxs(MutedLink,{href:\"#\",children:[\"Don't have an accoun?\",\" \",/*#__PURE__*/_jsx(BoldLink,{href:\"#\",onClick:switchToSignup,children:\"Signup\"})]})]});}","map":{"version":3,"sources":["C:/Users/Chinenye/Desktop/DELIGHT/MOVIES/carnival/src/components/accountBox/loginForm.jsx"],"names":["React","useContext","useState","BoldLink","BoxContainer","FormContainer","Input","MutedLink","SubmitButton","signInWithEmailAndPassword","sendPasswordResetEmail","auth","Marginer","AccountContext","useNavigate","LoginForm","props","switchToSignup","loginEmail","setLoginEmail","loginPassword","setLoginPassword","navigate","login","user","console","log","message","event","target","value"],"mappings":"yYAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OACEC,QADF,CAEEC,YAFF,CAGEC,aAHF,CAIEC,KAJF,CAKEC,SALF,CAMEC,YANF,KAOO,UAPP,CAQA,OACEC,0BADF,CAEE;AACA;AACAC,sBAJF,KAKO,eALP,CAMA,OAASC,IAAT,KAAqB,gBAArB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,cAAT,KAA+B,kBAA/B,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,MAAO,SAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CAC/B,gBAA2Bf,UAAU,CAACY,cAAD,CAArC,CAAQI,cAAR,aAAQA,cAAR,CAEA,cAAoCf,QAAQ,CAAC,EAAD,CAA5C,wCAAOgB,UAAP,eAAmBC,aAAnB,eACA,eAA0CjB,QAAQ,CAAC,EAAD,CAAlD,yCAAOkB,aAAP,eAAsBC,gBAAtB,eAEA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,GAAMS,CAAAA,KAAK,0FAAG,kLAESd,CAAAA,0BAA0B,CAC3CE,IAD2C,CAE3CO,UAF2C,CAG3CE,aAH2C,CAFnC,QAEJI,IAFI,eAOVC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAF,QAAQ,CAAC,YAAD,CAAR,CARU,+EAUVG,OAAO,CAACC,GAAR,CAAY,YAAMC,OAAlB,EAVU,oEAAH,kBAALJ,CAAAA,KAAK,0CAAX,CAcA;AACA;AACA;AAGA,mBACE,MAAC,YAAD,yBACE,MAAC,aAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,WAAW,CAAC,OAAhC,CAAyC,QAAQ,CAAE,kBAACK,KAAD,CAAW,CAClET,aAAa,CAACS,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb,CACD,CAFK,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA+C,QAAQ,CAAE,kBAACF,KAAD,CAAW,CACxEP,gBAAgB,CAACO,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB,CACD,CAFK,EAJF,GADF,cASE,KAAC,QAAD,EAAU,SAAS,CAAC,UAApB,CAA+B,MAAM,CAAE,EAAvC,EATF,cAUE,KAAC,SAAD,EAAW,IAAI,CAAC,GAAhB,mCAVF,cAWE,KAAC,QAAD,EAAU,SAAS,CAAC,UAApB,CAA+B,MAAM,CAAC,OAAtC,EAXF,cAYE,KAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,CAA4B,OAAO,CAAEP,KAArC,oBAZF,cAaE,KAAC,QAAD,EAAU,SAAS,CAAC,UAApB,CAA+B,MAAM,CAAC,KAAtC,EAbF,cAcE,MAAC,SAAD,EAAW,IAAI,CAAC,GAAhB,mCACwB,GADxB,cAEE,KAAC,QAAD,EAAU,IAAI,CAAC,GAAf,CAAmB,OAAO,CAAEN,cAA5B,oBAFF,GAdF,GADF,CAuBD","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport {\r\n  BoldLink,\r\n  BoxContainer,\r\n  FormContainer,\r\n  Input,\r\n  MutedLink,\r\n  SubmitButton,\r\n} from \"./common\";\r\nimport {\r\n  signInWithEmailAndPassword,\r\n  // onAuthStateChanged,\r\n  // signOut,\r\n  sendPasswordResetEmail\r\n} from \"firebase/auth\";\r\nimport { auth } from \"../../firebase\"\r\nimport { Marginer } from \"../marginer\";\r\nimport { AccountContext } from \"./accountContext\";\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nexport function LoginForm(props) {\r\n  const { switchToSignup } = useContext(AccountContext);\r\n\r\n  const [loginEmail, setLoginEmail] = useState(\"\");\r\n  const [loginPassword, setLoginPassword] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n  const login = async () => {\r\n    try {\r\n      const user = await signInWithEmailAndPassword(\r\n        auth,\r\n        loginEmail,\r\n        loginPassword\r\n      );\r\n      console.log(user);\r\n      navigate('/dashboard');\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  // function resetPassword(loginEmail) {\r\n  //      return sendPasswordResetEmail(auth, loginEmail)\r\n  //  }\r\n \r\n\r\n  return (\r\n    <BoxContainer>\r\n      <FormContainer>\r\n        <Input type=\"email\" placeholder=\"Email\"  onChange={(event) => {\r\n    setLoginEmail(event.target.value);\r\n  }} />\r\n        <Input type=\"password\" placeholder=\"Password\"  onChange={(event) => {\r\n    setLoginPassword(event.target.value);\r\n  }}  />\r\n      </FormContainer>\r\n      <Marginer direction=\"vertical\" margin={10} />\r\n      <MutedLink href=\"#\">Forget your password?</MutedLink>\r\n      <Marginer direction=\"vertical\" margin=\"1.6em\" />\r\n      <SubmitButton type=\"submit\" onClick={login}>Signin</SubmitButton>\r\n      <Marginer direction=\"vertical\" margin=\"1em\" />\r\n      <MutedLink href=\"#\">\r\n        Don't have an accoun?{\" \"}\r\n        <BoldLink href=\"#\" onClick={switchToSignup}>\r\n          Signup\r\n        </BoldLink>\r\n      </MutedLink>\r\n    </BoxContainer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}